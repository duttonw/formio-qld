/*! For license information please see storybook-helpers-FormioLoader-FormioLoader-mdx.c6a18c21.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkformio_qld=self.webpackChunkformio_qld||[]).push([["helpers-FormioLoader-FormioLoader-mdx"],{"./src/helpers/FormioLoader/FormioLoader.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_storybook_addon_essentials_docs_mdx_react_shim__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mdx-js/react/lib/index.js"),_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@storybook/blocks/dist/index.mjs"),_FormioLoader_stories__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/FormioLoader/FormioLoader.stories.js");function _createMdxContent(props){const _components=Object.assign({p:"p",code:"code",pre:"pre",a:"a"},(0,_storybook_addon_essentials_docs_mdx_react_shim__WEBPACK_IMPORTED_MODULE_3__.useMDXComponents)(),props.components);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__.Meta,{of:_FormioLoader_stories__WEBPACK_IMPORTED_MODULE_2__}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("h1",{children:"FormioLoader"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["FormioLoader provide function for you to initiate Formio instance.\nTo use it, simply include the script and run ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"FormioLoader.initFormio()"})," in your webpage, it will initiate Formio instance with the div that contains ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"data-formio"})," attribute."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-html",children:'<script src="https://static.qgov.net.au/formio-qld/v1/v1.x.x-latest/formio-loader.min.js"><\/script>\n<script>\n  FormioLoader.initFormio();\n<\/script>\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Sample Formio div placeholder:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-jsx",children:'<div\n  id="formio"\n  class="qg-forms-v2"\n  data-formio\n  data-formio-project-name="dev-svcwlpuksmwawwk"\n  data-formio-form-name="plsPlusFormDemo"\n  data-formio-form-confirmation=""\n  data-formio-form-revision=""\n  data-formio-env-url="api.forms.platforms.qld.gov.au"\n  data-formio-pdf-download="no"\n  data-formio-namespace=""\n></div>\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Please note that you'll need to include ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"formio.full.js"}),"/",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"formio.full.min.js"}),", and other necessary formio scripts/libraries before using this script.\nYou may want to use ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"?path=/docs/helpers-formioscript--page",children:"FormioScript"})," to lazy-load all Formio related scripts/libraries."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("h2",{children:"Initiate Formio instance"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"To initiate Formio instance, simply include and run the script in your webpage."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__.Canvas,{sourceState:"open",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__.Story,{of:_FormioLoader_stories__WEBPACK_IMPORTED_MODULE_2__.InitFormioRender})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("h3",{children:"window.initFormioHook"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["You could define ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"window.initFormioHook()"})," as a hook function for ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"FormioLoader.initFormio()"}),".\nIn other word, you could use it to override the default behavior after the global Formio object loaded and before the form(s) initiated by ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"Formio.createForm()"}),"."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"This would be useful for modifying prototype functions in the global Formio object."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-jsx",children:'window.initFormioHook = () => {\n  // You could manipulate the global Formio object here, eg:\n  const newFunc = Formio.Form.prototype.errorForm.bind({});\n  Formio.Form.prototype.errorForm = (err) => {\n    // You could customise the err message here\n    console.log("err:", err);\n    return newFunc(err);\n  };\n};\nFormioLoader.initFormio();\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("h2",{children:"Alternate init method"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["If the script is already loaded, you could init the form with an alternate method ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"FormioLoader.initFormioInstance"}),".\nThis is useful if you want to dynamically inject a form element. (Although the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"FormioLoader.initFormio()"})," method will work the same)"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("h3",{children:"Options:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__.Markdown,{children:"\n| Option               | Description                                                                                                                                  | Example                                                             |\n| -------------------- | -------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------- |\n| projectName          | Formio project name                                                                                                                          | dev-svcwlpuksmwawwk                                                 |\n| formName             | Formio form name                                                                                                                             | plsPlusFormDemo                                                     |\n| envUrl               | domain name of the Formio endpoint                                                                                                           | api.forms.platforms.qld.gov.au                                      |\n| formConfirmation     | redirect page for wizard after submission                                                                                                    | /                                                                   |\n| formRevision         | form revision number                                                                                                                         | 1                                                                   |\n| pdfDownload          | Does the form involve pdf download                                                                                                           | no                                                                  |\n| namespace            | Namespace of the form for creating key for token, user, etc                                                                                  | any string                                                          |\n| createFormOptions    | function that returns [options](https://help.form.io/developers/form-renderer#form-renderer-options) to be passed to the createForm function | ({ envUrl, projectName, formName, defaultOptions, elem }) => object |\n| createFormController | custom form controller function                                                                                                              | ({ envUrl, projectName, formName, form, elem }) => void)            |\n| createFormCallback   | custom callback function after a form is created by `Formio.createForm`                                                                      | ({ envUrl, projectName, formName, form, elem }) => void)            |\n"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__.Canvas,{sourceState:"open",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__.Story,{of:_FormioLoader_stories__WEBPACK_IMPORTED_MODULE_2__.InitFormioInstanceRender})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("h2",{children:["Custom createForm options with ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"createFormOptions"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["You can create a hook function ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"createFormOptions"})," to customise the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"https://help.form.io/developers/form-renderer#form-renderer-options",target:"_blank",rel:"nofollow noopener noreferrer",children:"options"}),".\nWithin the function you could pass different options base on different project or form."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"The example below will add the custom options, such as Formio message, to every forms in the page."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-jsx",children:'const customFn = () => {\n  return {\n    readOnly: true,\n    // here you could customise all Formio message, reference: https://help.form.io/developers/translations#introduction\n    // Exposes the i18Next framework instance in browser console to see what can be customised: `Formio.forms.[formId].i18next.store.data`\n    // alternatively in the form builder JS editor: `console.log(Formio.forms.[formId].i18next.store.data)`\n    // ie. Formio.forms.etpa4xr.i18next.store.data\n    i18n: {\n      en: {\n        pattern: "Must use the format shown",\n        error:\n          \'<h2><span class="fa fa-exclamation-triangle"></span> Please check your answers</h2>\',\n        complete: "Custom complete message",\n      },\n    },\n  };\n};\nFormioLoader.initFormioInstance(elem, {\n  projectName: "dev-svcwlpuksmwawwk",\n  formName: "plsPlusFormDemo",\n  envUrl: "api.forms.platforms.qld.gov.au",\n  pdfDownload: "no",\n  createFormOptions: customFn,\n});\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"The example below only add the custom options to certain project or form with a single hook function."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-jsx",children:'const customFn = ({ envUrl, projectName, formName, defaultOptions, elem }) => {\n  if ({ envUrl === "api.forms.platforms.qld.gov.au") {\n    return {\n      readOnly: true,\n    };\n  }\n  if (projectName === "project1") {\n    return {\n      readOnly: true,\n    };\n  }\n  if (projectName === "project2" && formName === "form2") {\n    return {\n      readOnly: true,\n    };\n  }\n  return {};\n};\nFormioLoader.initFormioInstance(elem1, {\n  projectName: "project1",\n  formName: "form1",\n  envUrl: "api.forms.platforms.qld.gov.au",\n  pdfDownload: "no",\n  createFormOptions: customFn\n});\nFormioLoader.initFormioInstance(elem2, {\n  projectName: "project2",\n  formName: "form2",\n  envUrl: "api.forms.platforms.qld.gov.au",\n  pdfDownload: "no",\n  createFormOptions: customFn\n});\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Please refer to https://help.form.io/developers/form-renderer#form-renderer-options for available options."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Below is a full example:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__.Canvas,{sourceState:"open",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__.Story,{of:_FormioLoader_stories__WEBPACK_IMPORTED_MODULE_2__.CustomCreateFormOptionsRender})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("h2",{children:["Controlling the Form with JavaScript with ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"createFormController"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["You can create a hook function ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"createFormController"})," to customise the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"https://help.form.io/developers/form-renderer#controlling-the-form-with-javascript",target:"_blank",rel:"nofollow noopener noreferrer",children:"form controller"}),".\nWithin the function you could customise the controller base on different project or form."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-jsx",children:'const customFn = ({ form }) => {\n  form.on("change", (e) => {\n    console.info("onChange", e);\n  });\n};\nFormioLoader.initFormioInstance(elem, {\n  projectName: "dev-svcwlpuksmwawwk",\n  formName: "plsPlusFormDemo",\n  envUrl: "api.forms.platforms.qld.gov.au",\n  pdfDownload: "no",\n  createFormController: customFn,\n});\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"The example below only control the form to certain project or form."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-jsx",children:'const customFn = ({ envUrl, projectName, formName, form, elem }) => {\n  if (projectName === "project2" && formName === "form2") {\n    form.on("change", (e) => {\n      console.info("onChange", e);\n    });\n  }\n};\nFormioLoader.initFormioInstance(elem1, {\n  projectName: "project1",\n  formName: "form1",\n  envUrl: "api.forms.platforms.qld.gov.au",\n  pdfDownload: "no",\n  createFormOptions: customFn,\n});\nFormioLoader.initFormioInstance(elem2, {\n  projectName: "project2",\n  formName: "form2",\n  envUrl: "api.forms.platforms.qld.gov.au",\n  pdfDownload: "no",\n  createFormOptions: customFn,\n});\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Please refer to https://help.form.io/developers/form-renderer#controlling-the-form-with-javascript for more examples."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Below is a full example:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__.Canvas,{sourceState:"open",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__.Story,{of:_FormioLoader_stories__WEBPACK_IMPORTED_MODULE_2__.CustomCreateFormControllerRender})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("h2",{children:["Customise formio error message with ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"initFormioHook"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["By default, there is a default error message on Formio API error in FormioLoader.\nAs a shorthand, you could customise the message by using ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"window.initFormioHook"}),"."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-jsx",children:'window.initFormioHook = ({ overrideErrorForm }) => {\n  overrideErrorForm(() => "Custom message to display on Formio API error").\n  // alternatively to display default err details:\n  // overrideErrorForm();\n  // or custom message based on err details:\n  // overrideErrorForm((err) => "Custom message to display on Formio API error: " + err);\n}\nFormioLoader.initFormioInstance(elem1, {\n  projectName: "project1",\n  formName: "form1",\n  envUrl: "api.forms.platforms.qld.gov.au",\n  pdfDownload: "no",\n});\n'})})]})}const __WEBPACK_DEFAULT_EXPORT__=function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,_storybook_addon_essentials_docs_mdx_react_shim__WEBPACK_IMPORTED_MODULE_3__.useMDXComponents)(),props.components);return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MDXLayout,Object.assign({},props,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_createMdxContent,props)})):_createMdxContent(props)}}}]);