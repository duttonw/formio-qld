import { Canvas, Meta, Story } from "@storybook/addon-docs";
import { createForm, createBuilder } from "../../utils";

<Meta title="Components/Custom/GoogleLocation" />

# GoogleLocation-Mapping

This came out of contrib from formio.js repo

## Renderer

<Canvas>
  <Story name="Renderer">
    {() =>
      createForm({
        form: {
          components: [
            {
              label: "Location",
              tableView: false,
              map: {
                key: "AIzaSyCKuaFIFo7YYZXHZ5zaiEZdJx0UBoyfuAE", //TEST KEY, super restricted
                region: "au",
                gmapId: "",
                autocompleteOptions: {},
              },
              key: "location1",
              type: "googlelocation",
              input: false,
              components: [],
            },
            {
              type: "button",
              key: "button",
              label: "Default button",
            },
          ],
        },
        controller: (formio) => {
          formio.on("submit", (e) => {
            console.info("submit", e.data);
          });
          formio.on("change", (e) => {
            console.info("change", e.data);
          });
        },
      })
    }
  </Story>
</Canvas>

## Builder

This component can be drag and drop from the Form.io builder sidebar `custom` group.
You can preview the component's settings in the example below.

<Canvas>
  <Story name="Builder">
    {() =>
      createBuilder({
        form: {
          components: [
            {
              label: "Location",
              tableView: false,
              map: {
                key: "AIzaSyCKuaFIFo7YYZXHZ5zaiEZdJx0UBoyfuAE", //TEST KEY, super restricted
                region: "au",
                gmapId: "",
                autocompleteOptions: {},
              },
              key: "location1",
              type: "googlelocation",
              input: false,
              components: [],
            },
            {
              type: "button",
              key: "button",
              label: "Default button",
            },
          ],
        },
      })
    }
  </Story>
</Canvas>
