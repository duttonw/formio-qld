{
  "legend": "PLSPlus address - please enter the franchise apiKey in API/custom properties/franchise or leave it as auto",
  "tableView": false,
  "key": "ratPlsPlusAddress",
  "properties": {
    "franchise": "qldonline"
  },
  "type": "fieldset",
  "label": "PLSPlus address - please enter the franchise apiKey in API/custom properties/franchise or leave it as auto",
  "input": false,
  "components": [
    {
      "label": "PlsPlus Address script",
      "customDefaultValue": "const bodyElem = document.querySelector('body');\nconst plsPlusInit = bodyElem.getAttribute('data-plsPlusInit');\n\nif (!plsPlusInit) {\n  ie11Polyfill();\n\n  const nativeOpen = XMLHttpRequest.prototype.open;\n  const nativeSend = XMLHttpRequest.prototype.send;\n  let lastQuery = \"\";\n  \n  function proxiedOpen() {\n    if (form && form.properties) {\n      arguments[1] = arguments[1].replace(/%7b%7bform.properties.plsPlusApiKey%7d%7d/gi, form.properties.plsPlusApiKey);\n    }\n    if (arguments[1].includes('pls-plus-qg/')) this._url = arguments[1];\n\n    if (this._url && this._url.indexOf('/AutoCompleteAddress') !== -1) {\n      const thisObj = this;\n\n      this.addEventListener('readystatechange', function(e) { \n        if (this.readyState == 4) {\n          const data = JSON.parse(this.response);\n          if (data.AutoCompleteAddressResponse && data.AutoCompleteAddressResponse.AutoCompleteAddressResult && data.AutoCompleteAddressResponse.AutoCompleteAddressResult.string ) {\n            const newData = {suggest: data.AutoCompleteAddressResponse.AutoCompleteAddressResult.string.map(function (address) {return ({address: address})}) || []};\n            Object.defineProperty(this, 'responseText', { get: function() { return JSON.stringify(newData) } });\n            Object.defineProperty(this, 'response', { get: function() { return JSON.stringify(newData) } });\n          }\n        }\n      })\n    }\n\n    nativeOpen.apply(this, arguments);\n  }\n  \n  function proxiedSend() {\n    if (this._url) {\n      if (this._url.indexOf('/AutoCompleteAddress') !== -1) {\n        const queryString = this._url.split('?')[1];\n        const urlParams = new URLSearchParams('?' + queryString);\n        const query = urlParams.get('query') || \"\";\n        if (query.length <= 3) return;\n        if (lastQuery === query) return;\n        lastQuery = query;\n        this.responseType = \"text\";\n      }\n      if (this._url.indexOf('/ParseAddress') !== -1) {\n        const queryString = this._url.split('?')[1];\n        const urlParams = new URLSearchParams('?' + queryString);\n        const query = urlParams.get('query') || \"\";\n        if (!query) return;\n      }\n    }\n    \n    nativeSend.apply(this, arguments);\n  }\n\n  XMLHttpRequest.prototype.open = proxiedOpen;\n  XMLHttpRequest.prototype.send = proxiedSend;\n  \n  /*\n  * logic of assigning plsPlusApiKey\n  * - if form.properties.plsPlusApiKey is provided, the key will be validated, if it's invalid the key will be changed to `invalid` and warning/instruction will be displayed.\n  * - if form.properties.plsPlusApiKey is not provided, key will be assigned based on URL, if no key is assigned because of non-qualified URL, key will be assigned to `auto` and warning/instruction will be displayed.\n  */\n  if (defaultPlsPlusApiKey && !form.properties.plsPlusApiKey) {\n    form.properties.plsPlusApiKey = defaultPlsPlusApiKey;\n  }\n  if (getPlsPlusApiKey && form.properties.plsPlusApiKey) {\n    form.properties.plsPlusApiKey = getPlsPlusApiKey(form.properties.plsPlusApiKey);\n  } \n\n  bodyElem.setAttribute('data-plsPlusInit', true);\n}",
      "key": "script",
      "properties": {
        "fieldName": "script"
      },
      "type": "hidden",
      "input": true,
      "tableView": false,
      "placeholder": "",
      "prefix": "",
      "customClass": "",
      "suffix": "",
      "multiple": false,
      "defaultValue": null,
      "protected": false,
      "unique": false,
      "persistent": true,
      "hidden": false,
      "clearOnHide": true,
      "refreshOn": "",
      "redrawOn": "",
      "modalEdit": false,
      "labelPosition": "top",
      "description": "",
      "errorLabel": "",
      "tooltip": "",
      "hideLabel": false,
      "tabindex": "",
      "disabled": false,
      "autofocus": false,
      "dbIndex": false,
      "calculateValue": "",
      "calculateServer": false,
      "widget": {
        "type": "input"
      },
      "attributes": {},
      "validateOn": "change",
      "validate": {
        "required": false,
        "custom": "",
        "customPrivate": false,
        "strictDateValidation": false,
        "multiple": false,
        "unique": false
      },
      "conditional": {
        "show": null,
        "when": null,
        "eq": ""
      },
      "overlay": {
        "style": "",
        "left": "",
        "top": "",
        "width": "",
        "height": ""
      },
      "allowCalculateOverride": false,
      "encrypted": false,
      "showCharCount": false,
      "showWordCount": false,
      "allowMultipleMasks": false,
      "inputType": "hidden",
      "id": "eonj03i"
    },
    {
      "tableView": false,
      "key": "fromAddress",
      "type": "fieldset",
      "label": "",
      "input": false,
      "components": [
        {
          "label": "Queensland address you or your dependant are currently isolating at",
          "tableView": true,
          "clearOnHide": false,
          "provider": "custom",
          "validate": {
            "required": true,
            "custom": "",
            "customPrivate": false,
            "strictDateValidation": false,
            "multiple": false,
            "unique": false
          },
          "key": "suggestedAddress",
          "properties": {
            "fieldName": "suggestedAddress"
          },
          "logic": [
            {
              "name": "Disable",
              "trigger": {
                "type": "javascript",
                "javascript": "const cantfindAddressKey = instance.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"cantfindAddress\"; }).component.key;\nconst cantfindAddressData = data[cantfindAddressKey];\nresult=!!cantfindAddressData;"
              },
              "actions": [
                {
                  "name": "Disable",
                  "type": "property",
                  "property": {
                    "label": "Disabled",
                    "value": "disabled",
                    "type": "boolean"
                  },
                  "state": true
                },
                {
                  "name": "Not required",
                  "type": "property",
                  "property": {
                    "label": "Required",
                    "value": "validate.required",
                    "type": "boolean"
                  },
                  "state": ""
                },
                {
                  "name": "Clear",
                  "type": "value",
                  "value": "//value=''"
                }
              ]
            }
          ],
          "attributes": {
            "label": "address search",
            "title": "address search"
          },
          "type": "address",
          "providerOptions": {
            "url": "https://www.address.test-services.qld.gov.au/pls-plus-qg/AutoCompleteAddress",
            "queryProperty": "query",
            "responseProperty": "suggest",
            "displayValueProperty": "address",
            "params": {
              "apiKey": "{{form.properties.plsPlusApiKey}}"
            }
          },
          "input": true,
          "components": [
            {
              "label": "Address 1",
              "tableView": false,
              "key": "address1",
              "type": "textfield",
              "input": true,
              "customConditional": "show = _.get(instance, 'parent.manualMode', false);"
            },
            {
              "label": "Address 2",
              "tableView": false,
              "key": "address2",
              "type": "textfield",
              "input": true,
              "customConditional": "show = _.get(instance, 'parent.manualMode', false);"
            },
            {
              "label": "City",
              "tableView": false,
              "key": "city",
              "type": "textfield",
              "input": true,
              "customConditional": "show = _.get(instance, 'parent.manualMode', false);"
            },
            {
              "label": "State",
              "tableView": false,
              "key": "state",
              "type": "textfield",
              "input": true,
              "customConditional": "show = _.get(instance, 'parent.manualMode', false);"
            },
            {
              "label": "Zip Code",
              "tableView": false,
              "key": "zip",
              "type": "textfield",
              "input": true,
              "customConditional": "show = _.get(instance, 'parent.manualMode', false);"
            }
          ],
          "lockKey": true,
          "source": "600634ede4ff0cbe0841e427",
          "isNew": true,
          "placeholder": "",
          "prefix": "",
          "customClass": "",
          "suffix": "",
          "multiple": false,
          "defaultValue": null,
          "protected": false,
          "unique": false,
          "persistent": true,
          "hidden": false,
          "refreshOn": "",
          "redrawOn": "",
          "modalEdit": false,
          "labelPosition": "top",
          "description": "",
          "errorLabel": "",
          "tooltip": "",
          "hideLabel": false,
          "tabindex": "",
          "disabled": false,
          "autofocus": false,
          "dbIndex": false,
          "customDefaultValue": "",
          "calculateValue": "",
          "calculateServer": false,
          "widget": null,
          "validateOn": "change",
          "conditional": {
            "show": null,
            "when": null,
            "eq": ""
          },
          "overlay": {
            "style": "",
            "left": "",
            "top": "",
            "width": "",
            "height": ""
          },
          "allowCalculateOverride": false,
          "encrypted": false,
          "showCharCount": false,
          "showWordCount": false,
          "allowMultipleMasks": false,
          "tree": true,
          "switchToManualModeLabel": "Can't find address? Switch to manual mode.",
          "manualModeViewString": "",
          "disableClearIcon": false,
          "enableManualMode": false,
          "id": "e5mess"
        },
        {
          "label": "I can't find my address",
          "tableView": false,
          "defaultValue": false,
          "key": "cantfindAddress",
          "properties": {
            "fieldName": "cantfindAddress"
          },
          "attributes": {
            "id": "form-check-input"
          },
          "type": "checkbox",
          "input": true,
          "placeholder": "",
          "prefix": "",
          "customClass": "",
          "suffix": "",
          "multiple": false,
          "protected": false,
          "unique": false,
          "persistent": true,
          "hidden": false,
          "clearOnHide": true,
          "refreshOn": "",
          "redrawOn": "",
          "modalEdit": false,
          "labelPosition": "right",
          "description": "",
          "errorLabel": "",
          "tooltip": "",
          "hideLabel": false,
          "tabindex": "",
          "disabled": false,
          "autofocus": false,
          "dbIndex": false,
          "customDefaultValue": "",
          "calculateValue": "",
          "calculateServer": false,
          "widget": null,
          "validateOn": "change",
          "validate": {
            "required": false,
            "custom": "",
            "customPrivate": false,
            "strictDateValidation": false,
            "multiple": false,
            "unique": false
          },
          "conditional": {
            "show": null,
            "when": null,
            "eq": ""
          },
          "overlay": {
            "style": "",
            "left": "",
            "top": "",
            "width": "",
            "height": ""
          },
          "allowCalculateOverride": false,
          "encrypted": false,
          "showCharCount": false,
          "showWordCount": false,
          "allowMultipleMasks": false,
          "inputType": "checkbox",
          "dataGridLabel": true,
          "value": "",
          "name": "",
          "id": "eaomgmk"
        },
        {
          "label": "Address details",
          "persistent": "client-only",
          "clearOnHide": false,
          "trigger": {
            "init": false,
            "server": false
          },
          "refreshOn": "suggestedAddress",
          "dataSrc": "url",
          "fetch": {
            "url": "https://www.address.test-services.qld.gov.au/pls-plus-qg/ParseAddress?query={{data[instance.parent.components.find(function(comp) { return comp.component.properties.fieldName === \"suggestedAddress\" }).component.key].address}}&apiKey={{form.properties ? form.properties.plsPlusApiKey : \"\" }}",
            "method": "get",
            "headers": [
              {
                "key": "",
                "value": ""
              }
            ],
            "forwardHeaders": false,
            "authenticate": false
          },
          "key": "addressDetails",
          "properties": {
            "fieldName": "addressDetails"
          },
          "customConditional": "if (instance.parent && instance.parent.components) {\n  const suggestedAddressKey = instance.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"suggestedAddress\" }).component.key;\n  if (suggestedAddressKey !== instance.component.refreshOn) {\n    instance.component.refreshOn = suggestedAddressKey;\n  }\n}",
          "type": "datasource",
          "input": true,
          "tableView": false,
          "placeholder": "",
          "prefix": "",
          "customClass": "",
          "suffix": "",
          "multiple": false,
          "defaultValue": null,
          "protected": false,
          "unique": false,
          "hidden": false,
          "redrawOn": "",
          "modalEdit": false,
          "labelPosition": "top",
          "description": "",
          "errorLabel": "",
          "tooltip": "",
          "hideLabel": false,
          "tabindex": "",
          "disabled": false,
          "autofocus": false,
          "dbIndex": false,
          "customDefaultValue": "",
          "calculateValue": "",
          "calculateServer": false,
          "widget": null,
          "attributes": {},
          "validateOn": "change",
          "validate": {
            "required": false,
            "custom": "",
            "customPrivate": false,
            "strictDateValidation": false,
            "multiple": false,
            "unique": false
          },
          "conditional": {
            "show": null,
            "when": null,
            "eq": ""
          },
          "overlay": {
            "style": "",
            "left": "",
            "top": "",
            "width": "",
            "height": ""
          },
          "allowCalculateOverride": false,
          "encrypted": false,
          "showCharCount": false,
          "showWordCount": false,
          "allowMultipleMasks": false,
          "id": "ec0p2wc"
        },
        {
          "label": "Selected address",
          "calculateValue": "const suggestedAddressKey = instance.parent.components.find( function (comp) { return comp.component.properties.fieldName === \"suggestedAddress\" }).component.key;\nconst suggestedAddressData = data[suggestedAddressKey];\nconst cantfindAddressKey = instance.parent.components.find( function (comp) { return comp.component.properties.fieldName === \"cantfindAddress\" }).component.key;\nconst cantfindAddressData = data[cantfindAddressKey];\nconst addressPartsComp = instance.parent.components.find( function (comp) { return comp.component.properties.fieldName === \"addressParts\" }).component.key;\n\nif (cantfindAddressData !== true && suggestedAddressData) {\n  value = suggestedAddressData.address;\n} else if (cantfindAddressData === true && addressPartsComp && addressPartsComp.components) {\n  const addressLine1Key = addressPartsComp.components.find( function (comp) { return comp.properties.fieldName === \"addressLine1\" }).key;\n  const addressLine1Data = data[addressLine1Key];\n  const addressLine2Key = addressPartsComp.components.find( function (comp) { return comp.properties.fieldName === \"addressLine2\" }).key;\n  const addressLine2Data = data[addressLine2Key];\n  const addressLine3Key = addressPartsComp.components.find( function (comp) { return comp.properties.fieldName === \"addressLine3\" }).key;\n  const addressLine3Data = data[addressLine3Key];\n  const cityKey = addressPartsComp.components.find( function (comp) { return comp.properties.fieldName === \"city\" }).key;\n  const cityData = data[cityKey];\n  const stateKey = addressPartsComp.components.find( function (comp) { return comp.properties.fieldName === \"state\" }).key;\n  const stateData = data[stateKey];\n  const postcodeKey = addressPartsComp.components.find( function (comp) { return comp.properties.fieldName === \"postcode\" }).key;\n  const postcodeData = data[postcodeKey];\n\n  var addrLine = (addressLine1Data\n    +\" \"+ addressLine2Data\n    +\" \"+ addressLine3Data)\n    .replace(/  /g,' ');\n  var locality = (cityData\n    +\" \"+ stateData\n    +\" \"+ postcodeData)\n    .replace(/  /g,' ');\n  value = (addrLine +\" \"+ locality).replace(/  /g,' ').trim();\n}",
          "key": "selectedAddress",
          "properties": {
            "fieldName": "selectedAddress"
          },
          "type": "hidden",
          "input": true,
          "tableView": false,
          "placeholder": "",
          "prefix": "",
          "customClass": "",
          "suffix": "",
          "multiple": false,
          "defaultValue": null,
          "protected": false,
          "unique": false,
          "persistent": true,
          "hidden": false,
          "clearOnHide": true,
          "refreshOn": "",
          "redrawOn": "",
          "modalEdit": false,
          "labelPosition": "top",
          "description": "",
          "errorLabel": "",
          "tooltip": "",
          "hideLabel": false,
          "tabindex": "",
          "disabled": false,
          "autofocus": false,
          "dbIndex": false,
          "customDefaultValue": "",
          "calculateServer": false,
          "widget": {
            "type": "input"
          },
          "attributes": {},
          "validateOn": "change",
          "validate": {
            "required": false,
            "custom": "",
            "customPrivate": false,
            "strictDateValidation": false,
            "multiple": false,
            "unique": false
          },
          "conditional": {
            "show": null,
            "when": null,
            "eq": ""
          },
          "overlay": {
            "style": "",
            "left": "",
            "top": "",
            "width": "",
            "height": ""
          },
          "allowCalculateOverride": false,
          "encrypted": false,
          "showCharCount": false,
          "showWordCount": false,
          "allowMultipleMasks": false,
          "inputType": "hidden",
          "id": "eor3yag"
        },
        {
          "tableView": false,
          "key": "addressParts",
          "properties": {
            "fieldName": "addressParts"
          },
          "customConditional": "//show = (data['cantfindAddress'] === true)\nshow = true",
          "type": "fieldset",
          "label": "",
          "input": false,
          "components": [
            {
              "label": "Address line 1 <i>(include unit number if needed)</i>",
              "tableView": true,
              "case": "uppercase",
              "clearOnHide": false,
              "calculateValue": "const addressDetailsKey = instance.parent.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"addressDetails\"; }).component.key;\nconst addressDetailsData = data[addressDetailsKey];\nconst cantfindAddressKey = instance.parent.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"cantfindAddress\"; }).component.key;\nconst cantfindAddressData = data[cantfindAddressKey];\nlet address;\nif (addressDetailsData && \n  addressDetailsData.ParseAddressResponse && \n  addressDetailsData.ParseAddressResponse.ParseAddressResult && \n  addressDetailsData.ParseAddressResponse.ParseAddressResult.Results &&\n  addressDetailsData.ParseAddressResponse.ParseAddressResult.Results.Result\n  ) {\n  address = addressDetailsData.ParseAddressResponse.ParseAddressResult.Results.Result.Address;\n}\n\nif (!cantfindAddressData && address) {\n    const siteName = address.SiteName || '';\n    const lot = (address.Parcel && address.Parcel.Lot) ? 'LOT ' + address.Parcel.Lot : undefined;\n    const complexDesc = [lot, address.Unit ? address.Unit.TypeCode : undefined, address.Unit ? address.Unit.Number : undefined, address.Level ? address.Level.TypeCode : undefined, address.Level ? address.Level.Number : undefined].filter( function (o) { return o !== undefined } ).join(' ');\n    const roadNumberPart = [address.RoadNumber ? address.RoadNumber.First : undefined, (address.RoadNumber && address.RoadNumber.Last) ? '-' : undefined, address.RoadNumber ? address.RoadNumber.Last : undefined].filter( function (o) { return o !== undefined } ).join(''); \n    const streetAddress = [roadNumberPart, address.Road ? address.Road.Name : undefined, address.Road ? address.Road.TypeCode : undefined].filter( function (o) { return o !== undefined } ).join(' ');\n    if (siteName && complexDesc && streetAddress) {\n        value = siteName;\n    } else if (!siteName && complexDesc && streetAddress) {\n        value = complexDesc;\n    } else if (siteName && !complexDesc && streetAddress) {\n        value = siteName;\n    } else if (!siteName && !complexDesc && streetAddress) {\n        value = streetAddress;\n    }\n}",
              "allowCalculateOverride": true,
              "validate": {
                "required": true,
                "pattern": "^((?![<>\\{\\}]).)*$",
                "maxLength": 40,
                "custom": "",
                "customPrivate": false,
                "strictDateValidation": false,
                "multiple": false,
                "unique": false,
                "minLength": ""
              },
              "key": "addressLine1",
              "properties": {
                "fieldName": "addressLine1"
              },
              "logic": [
                {
                  "name": "Disable",
                  "trigger": {
                    "type": "javascript",
                    "javascript": "const cantfindAddressKey = instance.parent.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"cantfindAddress\"; }).component.key;\nconst cantfindAddressData = data[cantfindAddressKey];\nresult=!cantfindAddressData;"
                  },
                  "actions": [
                    {
                      "name": "Disable",
                      "type": "property",
                      "property": {
                        "label": "Disabled",
                        "value": "disabled",
                        "type": "boolean"
                      },
                      "state": true
                    },
                    {
                      "name": "Not required",
                      "type": "property",
                      "property": {
                        "label": "Required",
                        "value": "validate.required",
                        "type": "boolean"
                      },
                      "state": ""
                    },
                    {
                      "name": "Clear",
                      "type": "value",
                      "value": "//value=''"
                    }
                  ]
                }
              ],
              "type": "textfield",
              "input": true,
              "placeholder": "",
              "prefix": "",
              "customClass": "",
              "suffix": "",
              "multiple": false,
              "defaultValue": null,
              "protected": false,
              "unique": false,
              "persistent": true,
              "hidden": false,
              "refreshOn": "",
              "redrawOn": "",
              "modalEdit": false,
              "labelPosition": "top",
              "description": "",
              "errorLabel": "",
              "tooltip": "",
              "hideLabel": false,
              "tabindex": "",
              "disabled": false,
              "autofocus": false,
              "dbIndex": false,
              "customDefaultValue": "",
              "calculateServer": false,
              "widget": {
                "type": "input"
              },
              "attributes": {},
              "validateOn": "change",
              "conditional": {
                "show": null,
                "when": null,
                "eq": ""
              },
              "overlay": {
                "style": "",
                "left": "",
                "top": "",
                "width": "",
                "height": ""
              },
              "encrypted": false,
              "showCharCount": false,
              "showWordCount": false,
              "allowMultipleMasks": false,
              "mask": false,
              "inputType": "text",
              "inputFormat": "plain",
              "inputMask": "",
              "spellcheck": true,
              "id": "esbg7p"
            },
            {
              "label": "Address line 2",
              "tableView": true,
              "case": "uppercase",
              "clearOnHide": false,
              "calculateValue": "const addressDetailsKey = instance.parent.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"addressDetails\"; }).component.key;\nconst addressDetailsData = data[addressDetailsKey];\nconst cantfindAddressKey = instance.parent.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"cantfindAddress\"; }).component.key;\nconst cantfindAddressData = data[cantfindAddressKey];\nlet address;\nif (addressDetailsData && \n  addressDetailsData.ParseAddressResponse && \n  addressDetailsData.ParseAddressResponse.ParseAddressResult && \n  addressDetailsData.ParseAddressResponse.ParseAddressResult.Results &&\n  addressDetailsData.ParseAddressResponse.ParseAddressResult.Results.Result\n  ) {\n  address = addressDetailsData.ParseAddressResponse.ParseAddressResult.Results.Result.Address;\n}\n\nif (!cantfindAddressData && address) {\n    const siteName = address.SiteName || '';\n    const lot = (address.Parcel && address.Parcel.Lot) ? 'LOT ' + address.Parcel.Lot : undefined;\n    const complexDesc = [lot, address.Unit ? address.Unit.TypeCode : undefined, address.Unit ? address.Unit.Number : undefined, address.Level ? address.Level.TypeCode : undefined, address.Level ? address.Level.Number : undefined].filter( function (o) { return o !== undefined } ).join(' ');\n    const roadNumberPart = [address.RoadNumber ? address.RoadNumber.First : undefined, (address.RoadNumber && address.RoadNumber.Last) ? '-' : undefined, address.RoadNumber ? address.RoadNumber.Last : undefined].filter( function (o) { return o !== undefined } ).join(''); \n    const streetAddress = [roadNumberPart, address.Road ? address.Road.Name : undefined, address.Road ? address.Road.TypeCode : undefined].filter( function (o) { return o !== undefined } ).join(' ');\n\n    if (siteName && complexDesc && streetAddress) {\n        value = complexDesc;\n    } else if (!siteName && complexDesc && streetAddress) {\n        value = streetAddress;\n    } else if (siteName && !complexDesc && streetAddress) {\n        value = streetAddress;\n    } else {\n        value = \"\";\n    }\n}",
              "allowCalculateOverride": true,
              "validate": {
                "pattern": "^((?![<>\\{\\}]).)*$",
                "customMessage": "You have exceeded the character limit or included html or special characters, e.g. <,>,{,},\\",
                "maxLength": 40,
                "required": false,
                "custom": "",
                "customPrivate": false,
                "strictDateValidation": false,
                "multiple": false,
                "unique": false,
                "minLength": ""
              },
              "key": "addressLine2",
              "properties": {
                "fieldName": "addressLine2"
              },
              "logic": [
                {
                  "name": "Disable",
                  "trigger": {
                    "type": "javascript",
                    "javascript": "const cantfindAddressKey = instance.parent.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"cantfindAddress\"; }).component.key;\nconst cantfindAddressData = data[cantfindAddressKey];\nresult=!cantfindAddressData;"
                  },
                  "actions": [
                    {
                      "name": "Disable",
                      "type": "property",
                      "property": {
                        "label": "Disabled",
                        "value": "disabled",
                        "type": "boolean"
                      },
                      "state": true
                    },
                    {
                      "name": "Not required",
                      "type": "property",
                      "property": {
                        "label": "Required",
                        "value": "validate.required",
                        "type": "boolean"
                      },
                      "state": ""
                    },
                    {
                      "name": "Clear",
                      "type": "value",
                      "value": "//value=''"
                    }
                  ]
                }
              ],
              "type": "textfield",
              "input": true,
              "placeholder": "",
              "prefix": "",
              "customClass": "",
              "suffix": "",
              "multiple": false,
              "defaultValue": null,
              "protected": false,
              "unique": false,
              "persistent": true,
              "hidden": false,
              "refreshOn": "",
              "redrawOn": "",
              "modalEdit": false,
              "labelPosition": "top",
              "description": "",
              "errorLabel": "",
              "tooltip": "",
              "hideLabel": false,
              "tabindex": "",
              "disabled": false,
              "autofocus": false,
              "dbIndex": false,
              "customDefaultValue": "",
              "calculateServer": false,
              "widget": {
                "type": "input"
              },
              "attributes": {},
              "validateOn": "change",
              "conditional": {
                "show": null,
                "when": null,
                "eq": ""
              },
              "overlay": {
                "style": "",
                "left": "",
                "top": "",
                "width": "",
                "height": ""
              },
              "encrypted": false,
              "showCharCount": false,
              "showWordCount": false,
              "allowMultipleMasks": false,
              "mask": false,
              "inputType": "text",
              "inputFormat": "plain",
              "inputMask": "",
              "spellcheck": true,
              "id": "e7waafo"
            },
            {
              "label": "Address line 3",
              "tableView": true,
              "case": "uppercase",
              "clearOnHide": false,
              "calculateValue": "const addressDetailsKey = instance.parent.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"addressDetails\"; }).component.key;\nconst addressDetailsData = data[addressDetailsKey];\nconst cantfindAddressKey = instance.parent.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"cantfindAddress\"; }).component.key;\nconst cantfindAddressData = data[cantfindAddressKey];\nlet address;\nif (addressDetailsData && \n  addressDetailsData.ParseAddressResponse && \n  addressDetailsData.ParseAddressResponse.ParseAddressResult && \n  addressDetailsData.ParseAddressResponse.ParseAddressResult.Results &&\n  addressDetailsData.ParseAddressResponse.ParseAddressResult.Results.Result\n  ) {\n  address = addressDetailsData.ParseAddressResponse.ParseAddressResult.Results.Result.Address;\n}\n\nif (!cantfindAddressData && address) {\n    const siteName = address.SiteName || '';\n    const lot = (address.Parcel && address.Parcel.Lot) ? 'LOT ' + address.Parcel.Lot : undefined;\n    const complexDesc = [lot, address.Unit ? address.Unit.TypeCode : undefined, address.Unit ? address.Unit.Number : undefined, address.Level ? address.Level.TypeCode : undefined, address.Level ? address.Level.Number : undefined].filter( function (o) { return o !== undefined } ).join(' ');\n    const roadNumberPart = [address.RoadNumber ? address.RoadNumber.First : undefined, (address.RoadNumber && address.RoadNumber.Last) ? '-' : undefined, address.RoadNumber ? address.RoadNumber.Last : undefined].filter( function (o) { return o !== undefined } ).join(''); \n    const streetAddress = [roadNumberPart, address.Road ? address.Road.Name : undefined, address.Road ? address.Road.TypeCode : undefined].filter( function (o) { return o !== undefined } ).join(' ');\n\n    if (siteName && complexDesc && streetAddress) {\n        value = streetAddress;\n    } else {\n        value = \"\";\n    }\n}",
              "allowCalculateOverride": true,
              "validate": {
                "pattern": "^((?![<>\\{\\}]).)*$",
                "customMessage": "You have exceeded the character limit or included html or special characters, e.g. <,>,{,},\\",
                "maxLength": 40,
                "required": false,
                "custom": "",
                "customPrivate": false,
                "strictDateValidation": false,
                "multiple": false,
                "unique": false,
                "minLength": ""
              },
              "key": "addressLine3",
              "properties": {
                "fieldName": "addressLine3"
              },
              "logic": [
                {
                  "name": "Disable",
                  "trigger": {
                    "type": "javascript",
                    "javascript": "const cantfindAddressKey = instance.parent.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"cantfindAddress\"; }).component.key;\nconst cantfindAddressData = data[cantfindAddressKey];\nresult=!cantfindAddressData;"
                  },
                  "actions": [
                    {
                      "name": "Disable",
                      "type": "property",
                      "property": {
                        "label": "Disabled",
                        "value": "disabled",
                        "type": "boolean"
                      },
                      "state": true
                    },
                    {
                      "name": "Not required",
                      "type": "property",
                      "property": {
                        "label": "Required",
                        "value": "validate.required",
                        "type": "boolean"
                      },
                      "state": ""
                    },
                    {
                      "name": "Clear",
                      "type": "value",
                      "value": "//value=''"
                    }
                  ]
                }
              ],
              "type": "textfield",
              "input": true,
              "placeholder": "",
              "prefix": "",
              "customClass": "",
              "suffix": "",
              "multiple": false,
              "defaultValue": null,
              "protected": false,
              "unique": false,
              "persistent": true,
              "hidden": false,
              "refreshOn": "",
              "redrawOn": "",
              "modalEdit": false,
              "labelPosition": "top",
              "description": "",
              "errorLabel": "",
              "tooltip": "",
              "hideLabel": false,
              "tabindex": "",
              "disabled": false,
              "autofocus": false,
              "dbIndex": false,
              "customDefaultValue": "",
              "calculateServer": false,
              "widget": {
                "type": "input"
              },
              "attributes": {},
              "validateOn": "change",
              "conditional": {
                "show": null,
                "when": null,
                "eq": ""
              },
              "overlay": {
                "style": "",
                "left": "",
                "top": "",
                "width": "",
                "height": ""
              },
              "encrypted": false,
              "showCharCount": false,
              "showWordCount": false,
              "allowMultipleMasks": false,
              "mask": false,
              "inputType": "text",
              "inputFormat": "plain",
              "inputMask": "",
              "spellcheck": true,
              "id": "eq3b34r"
            },
            {
              "label": "Town, city or suburb",
              "tableView": true,
              "case": "uppercase",
              "clearOnHide": false,
              "calculateValue": "const addressDetailsKey = instance.parent.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"addressDetails\"; }).component.key;\nconst addressDetailsData = data[addressDetailsKey];\nconst cantfindAddressKey = instance.parent.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"cantfindAddress\"; }).component.key;\nconst cantfindAddressData = data[cantfindAddressKey];\nlet address;\nif (addressDetailsData && \n  addressDetailsData.ParseAddressResponse && \n  addressDetailsData.ParseAddressResponse.ParseAddressResult && \n  addressDetailsData.ParseAddressResponse.ParseAddressResult.Results &&\n  addressDetailsData.ParseAddressResponse.ParseAddressResult.Results.Result\n  ) {\n  address = addressDetailsData.ParseAddressResponse.ParseAddressResult.Results.Result.Address;\n}\n\nif (!cantfindAddressData && address && address.Locality) {\n  value = address.Locality;\n}",
              "allowCalculateOverride": true,
              "validate": {
                "required": true,
                "pattern": "^((?![<>\\{\\}]).)*$",
                "maxLength": 40,
                "custom": "",
                "customPrivate": false,
                "strictDateValidation": false,
                "multiple": false,
                "unique": false,
                "minLength": ""
              },
              "key": "city",
              "properties": {
                "fieldName": "city"
              },
              "logic": [
                {
                  "name": "Disable",
                  "trigger": {
                    "type": "javascript",
                    "javascript": "const cantfindAddressKey = instance.parent.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"cantfindAddress\"; }).component.key;\nconst cantfindAddressData = data[cantfindAddressKey];\nresult=!cantfindAddressData;"
                  },
                  "actions": [
                    {
                      "name": "Disable",
                      "type": "property",
                      "property": {
                        "label": "Disabled",
                        "value": "disabled",
                        "type": "boolean"
                      },
                      "state": true
                    },
                    {
                      "name": "Not required",
                      "type": "property",
                      "property": {
                        "label": "Required",
                        "value": "validate.required",
                        "type": "boolean"
                      },
                      "state": ""
                    },
                    {
                      "name": "Clear",
                      "type": "value",
                      "value": "//value=''"
                    }
                  ]
                }
              ],
              "type": "textfield",
              "input": true,
              "placeholder": "",
              "prefix": "",
              "customClass": "",
              "suffix": "",
              "multiple": false,
              "defaultValue": null,
              "protected": false,
              "unique": false,
              "persistent": true,
              "hidden": false,
              "refreshOn": "",
              "redrawOn": "",
              "modalEdit": false,
              "labelPosition": "top",
              "description": "",
              "errorLabel": "",
              "tooltip": "",
              "hideLabel": false,
              "tabindex": "",
              "disabled": false,
              "autofocus": false,
              "dbIndex": false,
              "customDefaultValue": "",
              "calculateServer": false,
              "widget": {
                "type": "input"
              },
              "attributes": {},
              "validateOn": "change",
              "conditional": {
                "show": null,
                "when": null,
                "eq": ""
              },
              "overlay": {
                "style": "",
                "left": "",
                "top": "",
                "width": "",
                "height": ""
              },
              "encrypted": false,
              "showCharCount": false,
              "showWordCount": false,
              "allowMultipleMasks": false,
              "mask": false,
              "inputType": "text",
              "inputFormat": "plain",
              "inputMask": "",
              "spellcheck": true,
              "id": "ey9667s"
            },
            {
              "label": "State",
              "widget": "choicesjs",
              "placeholder": "Select state or territory",
              "disabled": true,
              "tableView": true,
              "defaultValue": "QLD",
              "data": {
                "values": [
                  {
                    "label": "Queensland",
                    "value": "QLD"
                  }
                ],
                "json": "",
                "url": "",
                "resource": "",
                "custom": ""
              },
              "selectThreshold": 0.3,
              "clearOnHide": false,
              "calculateValue": "const addressDetailsKey = instance.parent.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"addressDetails\"; }).component.key;\nconst addressDetailsData = data[addressDetailsKey];\nconst cantfindAddressKey = instance.parent.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"cantfindAddress\"; }).component.key;\nconst cantfindAddressData = data[cantfindAddressKey];\nlet address;\nif (addressDetailsData && \n  addressDetailsData.ParseAddressResponse && \n  addressDetailsData.ParseAddressResponse.ParseAddressResult && \n  addressDetailsData.ParseAddressResponse.ParseAddressResult.Results &&\n  addressDetailsData.ParseAddressResponse.ParseAddressResult.Results.Result\n  ) {\n  address = addressDetailsData.ParseAddressResponse.ParseAddressResult.Results.Result.Address;\n}\n\nif (!cantfindAddressData && address && address.State) {\n  value = address.State;\n}",
              "validate": {
                "required": true,
                "custom": "var re = /^((?![|&;$%\"'<>()\\{\\}+\\\\\\/]).)*$/;\r\nif (input && !re.test(input)) {\r\n  valid = 'Please do not include html or special characters e.g. not any of these |&;$%\\\"\\'<>(){}+\\/ and not exceeding 40 characters';\r\n}",
                "customPrivate": false,
                "strictDateValidation": false,
                "multiple": false,
                "unique": false
              },
              "key": "state",
              "properties": {
                "fieldName": "state"
              },
              "conditional": {
                "show": false,
                "when": "quarantineFreeFlight",
                "eq": "yes"
              },
              "attributes": {
                "autocomplete": "off",
                "": "readonly",
                "readonly": "readonly"
              },
              "type": "select",
              "indexeddb": {
                "filter": {}
              },
              "input": true,
              "prefix": "",
              "customClass": "",
              "suffix": "",
              "multiple": false,
              "protected": false,
              "unique": false,
              "persistent": true,
              "hidden": false,
              "refreshOn": "",
              "redrawOn": "",
              "modalEdit": false,
              "labelPosition": "top",
              "description": "",
              "errorLabel": "",
              "tooltip": "",
              "hideLabel": false,
              "tabindex": "",
              "autofocus": false,
              "dbIndex": false,
              "customDefaultValue": "",
              "calculateServer": false,
              "validateOn": "change",
              "overlay": {
                "style": "",
                "left": "",
                "top": "",
                "width": "",
                "height": ""
              },
              "allowCalculateOverride": false,
              "encrypted": false,
              "showCharCount": false,
              "showWordCount": false,
              "allowMultipleMasks": false,
              "clearOnRefresh": false,
              "limit": 100,
              "dataSrc": "values",
              "valueProperty": "",
              "lazyLoad": true,
              "filter": "",
              "searchEnabled": true,
              "searchField": "",
              "minSearch": 0,
              "readOnlyValue": false,
              "authenticate": false,
              "template": "<span>{{ item.label }}</span>",
              "selectFields": "",
              "searchThreshold": 0.3,
              "uniqueOptions": false,
              "fuseOptions": {
                "include": "score",
                "threshold": 0.3
              },
              "customOptions": {},
              "id": "etwnh74"
            },
            {
              "label": "Postcode",
              "inputMask": "9999",
              "tableView": true,
              "clearOnHide": false,
              "calculateValue": "const addressDetailsKey = instance.parent.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"addressDetails\"; }).component.key;\nconst addressDetailsData = data[addressDetailsKey];\nconst cantfindAddressKey = instance.parent.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"cantfindAddress\"; }).component.key;\nconst cantfindAddressData = data[cantfindAddressKey];\nlet address;\nif (addressDetailsData && \n  addressDetailsData.ParseAddressResponse && \n  addressDetailsData.ParseAddressResponse.ParseAddressResult && \n  addressDetailsData.ParseAddressResponse.ParseAddressResult.Results &&\n  addressDetailsData.ParseAddressResponse.ParseAddressResult.Results.Result\n  ) {\n  address = addressDetailsData.ParseAddressResponse.ParseAddressResult.Results.Result.Address;\n}\n\nif (!cantfindAddressData && address && address.Postcode) {\n  value = address.Postcode;\n}",
              "allowCalculateOverride": true,
              "validate": {
                "required": true,
                "pattern": "^([0-9]{4})$",
                "customMessage": "Invalid postcode format",
                "minLength": 4,
                "maxLength": 4,
                "custom": "",
                "customPrivate": false,
                "strictDateValidation": false,
                "multiple": false,
                "unique": false
              },
              "key": "postcode",
              "properties": {
                "fieldName": "postcode"
              },
              "logic": [
                {
                  "name": "Disable",
                  "trigger": {
                    "type": "javascript",
                    "javascript": "const cantfindAddressKey = instance.parent.parent.components.find(function (comp) { return comp.component.properties.fieldName === \"cantfindAddress\"; }).component.key;\nconst cantfindAddressData = data[cantfindAddressKey];\nresult=!cantfindAddressData;"
                  },
                  "actions": [
                    {
                      "name": "Disable",
                      "type": "property",
                      "property": {
                        "label": "Disabled",
                        "value": "disabled",
                        "type": "boolean"
                      },
                      "state": true
                    },
                    {
                      "name": "Not required",
                      "type": "property",
                      "property": {
                        "label": "Required",
                        "value": "validate.required",
                        "type": "boolean"
                      },
                      "state": ""
                    },
                    {
                      "name": "Clear",
                      "type": "value",
                      "value": "//value=''"
                    }
                  ]
                }
              ],
              "type": "textfield",
              "input": true,
              "placeholder": "",
              "prefix": "",
              "customClass": "",
              "suffix": "",
              "multiple": false,
              "defaultValue": null,
              "protected": false,
              "unique": false,
              "persistent": true,
              "hidden": false,
              "refreshOn": "",
              "redrawOn": "",
              "modalEdit": false,
              "labelPosition": "top",
              "description": "",
              "errorLabel": "",
              "tooltip": "",
              "hideLabel": false,
              "tabindex": "",
              "disabled": false,
              "autofocus": false,
              "dbIndex": false,
              "customDefaultValue": "",
              "calculateServer": false,
              "widget": {
                "type": "input"
              },
              "attributes": {},
              "validateOn": "change",
              "conditional": {
                "show": null,
                "when": null,
                "eq": ""
              },
              "overlay": {
                "style": "",
                "left": "",
                "top": "",
                "width": "",
                "height": ""
              },
              "encrypted": false,
              "showCharCount": false,
              "showWordCount": false,
              "allowMultipleMasks": false,
              "mask": false,
              "inputType": "text",
              "inputFormat": "plain",
              "spellcheck": true,
              "id": "ed3j8t5"
            }
          ],
          "placeholder": "",
          "prefix": "",
          "customClass": "",
          "suffix": "",
          "multiple": false,
          "defaultValue": null,
          "protected": false,
          "unique": false,
          "persistent": false,
          "hidden": false,
          "clearOnHide": true,
          "refreshOn": "",
          "redrawOn": "",
          "modalEdit": false,
          "labelPosition": "top",
          "description": "",
          "errorLabel": "",
          "tooltip": "",
          "hideLabel": false,
          "tabindex": "",
          "disabled": false,
          "autofocus": false,
          "dbIndex": false,
          "customDefaultValue": "",
          "calculateValue": "",
          "calculateServer": false,
          "widget": null,
          "attributes": {},
          "validateOn": "change",
          "validate": {
            "required": false,
            "custom": "",
            "customPrivate": false,
            "strictDateValidation": false,
            "multiple": false,
            "unique": false
          },
          "conditional": {
            "show": null,
            "when": null,
            "eq": ""
          },
          "overlay": {
            "style": "",
            "left": "",
            "top": "",
            "width": "",
            "height": ""
          },
          "allowCalculateOverride": false,
          "encrypted": false,
          "showCharCount": false,
          "showWordCount": false,
          "allowMultipleMasks": false,
          "tree": false,
          "legend": "",
          "id": "euenip"
        }
      ],
      "placeholder": "",
      "prefix": "",
      "customClass": "",
      "suffix": "",
      "multiple": false,
      "defaultValue": null,
      "protected": false,
      "unique": false,
      "persistent": false,
      "hidden": false,
      "clearOnHide": true,
      "refreshOn": "",
      "redrawOn": "",
      "modalEdit": false,
      "labelPosition": "top",
      "description": "",
      "errorLabel": "",
      "tooltip": "",
      "hideLabel": false,
      "tabindex": "",
      "disabled": false,
      "autofocus": false,
      "dbIndex": false,
      "customDefaultValue": "",
      "calculateValue": "",
      "calculateServer": false,
      "widget": null,
      "attributes": {},
      "validateOn": "change",
      "validate": {
        "required": false,
        "custom": "",
        "customPrivate": false,
        "strictDateValidation": false,
        "multiple": false,
        "unique": false
      },
      "conditional": {
        "show": null,
        "when": null,
        "eq": ""
      },
      "overlay": {
        "style": "",
        "left": "",
        "top": "",
        "width": "",
        "height": ""
      },
      "allowCalculateOverride": false,
      "encrypted": false,
      "showCharCount": false,
      "showWordCount": false,
      "properties": {},
      "allowMultipleMasks": false,
      "tree": false,
      "legend": "",
      "id": "eoyhhys"
    }
  ],
  "keyModified": true,
  "lockKey": true,
  "source": "61f8ba0a708edcacbc8cbdcf",
  "isNew": true,
  "placeholder": "",
  "prefix": "",
  "customClass": "",
  "suffix": "",
  "multiple": false,
  "defaultValue": null,
  "protected": false,
  "unique": false,
  "persistent": false,
  "hidden": false,
  "clearOnHide": true,
  "refreshOn": "",
  "redrawOn": "",
  "modalEdit": false,
  "labelPosition": "top",
  "description": "",
  "errorLabel": "",
  "tooltip": "",
  "hideLabel": false,
  "tabindex": "",
  "disabled": false,
  "autofocus": false,
  "dbIndex": false,
  "customDefaultValue": "",
  "calculateValue": "",
  "calculateServer": false,
  "widget": null,
  "attributes": {},
  "validateOn": "change",
  "validate": {
    "required": false,
    "custom": "",
    "customPrivate": false,
    "strictDateValidation": false,
    "multiple": false,
    "unique": false
  },
  "conditional": {
    "show": null,
    "when": null,
    "eq": ""
  },
  "overlay": {
    "style": "",
    "left": "",
    "top": "",
    "width": "",
    "height": ""
  },
  "allowCalculateOverride": false,
  "encrypted": false,
  "showCharCount": false,
  "showWordCount": false,
  "allowMultipleMasks": false,
  "tree": false,
  "id": "evvaap"
}